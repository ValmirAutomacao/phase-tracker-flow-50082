/* Sistema de Responsividade Verdadeira - EngFlow */

:root {
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
}

* {
  box-sizing: border-box;
}

body {
  overflow-x: hidden;
}

/* ESTRUTURA DE DIÁLOGO PADRÃO */
[data-radix-dialog-content],
.dialog-content,
.dialog-content-mobile,
[role="dialog"] {
  max-height: 90vh !important;
  margin: 1rem auto !important;
  border-radius: 0.75rem !important;
  overflow-y: auto !important; /* GARANTE A ROLAGEM DO DIÁLOGO */
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  background: white !important;
}

.dark [data-radix-dialog-content],
.dark .dialog-content,
.dark .dialog-content-mobile,
.dark [role="dialog"] {
  background: hsl(224 71% 4%) !important;
}

.dialog-header {
  padding: 1rem !important;
  border-bottom: 1px solid #e5e7eb !important;
}

.dark .dialog-header {
  border-bottom-color: hsl(217 33% 17%) !important;
}

.dialog-form-container {
  padding: 1rem !important;
}

.form-actions {
  background: white !important;
  padding: 0.875rem 1rem !important;
  border-top: 1px solid #e5e7eb !important;
  margin-top: 1.5rem !important;
  display: flex !important;
  gap: 0.625rem !important;
  align-items: center !important;
  justify-content: flex-end !important;
}

.dark .form-actions {
  background: hsl(222 47% 11%) !important;
  border-top-color: hsl(217 33% 17%) !important;
}

/* GRID RESPONSIVO PARA FORMULÁRIOS */
.grid-responsive {
  display: grid;
  gap: 1rem;
  /* Desktop-first: 2 colunas por padrão */
  grid-template-columns: repeat(2, 1fr);
}

/* Em telas menores, volta para 1 coluna */
@media (max-width: 768px) {
  .grid-responsive {
    grid-template-columns: 1fr;
  }
}


/* AJUSTES RESPONSIVOS ESPECÍFICOS POR BREAKPOINT */

/* Mobile (até 768px) */
@media (max-width: 768px) {
  [data-radix-dialog-content],
  .dialog-content,
  .dialog-content-mobile,
  [role="dialog"] {
    max-width: 95vw !important;
    width: 95vw !important;
    height: 90vh !important;
  }

  .mobile-stack {
    grid-template-columns: 1fr !important;
  }

  .form-actions > button {
    min-width: 90px !important;
    white-space: nowrap !important;
  }
  
  .text-xs { font-size: 14px !important; line-height: 1.4 !important; }
  .text-sm { font-size: 15px !important; line-height: 1.4 !important; }
  input, select, textarea { font-size: 16px !important; }
}

/* Tablet (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  [data-radix-dialog-content],
  .dialog-content,
  .dialog-content-mobile,
  [role="dialog"] {
    max-width: 85vw !important;
    width: 85vw !important;
  }

  .dialog-form-container {
    padding: 1rem 1.5rem !important;
    padding-bottom: 80px !important;
  }
}

/* Desktop Pequeno (1024px - 1280px) */
@media (min-width: 1024px) and (max-width: 1280px) {
  [data-radix-dialog-content],
  .dialog-content,
  .dialog-content-mobile,
  [role="dialog"] {
    max-width: 70vw !important;
    width: 70vw !important;
  }
  .dialog-form-container {
    padding: 1.25rem 1.75rem !important;
    padding-bottom: 80px !important;
  }
}

/* Desktop Grande (1280px+) */
@media (min-width: 1280px) {
  [data-radix-dialog-content],
  .dialog-content,
  .dialog-content-mobile,
  [role="dialog"] {
    max-width: 800px !important;
    width: 800px !important;
  }

  .dialog-form-container {
    padding: 1.5rem 2rem !important;
    padding-bottom: 80px !important;
  }
}

/* Truncamento de texto adaptativo */
.text-truncate-responsive {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}
@media (min-width: 640px) { .text-truncate-responsive { white-space: normal; } }
